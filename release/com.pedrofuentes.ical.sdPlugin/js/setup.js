/*! For license information please see setup.js.LICENSE.txt */
(()=>{"use strict";function e(e){let t=!0;try{new URL(e)}catch(e){t=!1}return t}const t=window.opener,n=t.streamDeck;function l(e,t="error",n=10){const l=document.getElementById("alerts");"block"===l.style.display&&(l.style.display="none"),l.innerHTML=`<span class="${t}">${e}</span>`,l.style.display="block",setTimeout((()=>{l.style.display="none"}),1e3*n)}window.onload=function(){document.getElementById("alerts").style.display="none",document.getElementById("url").value=n.globalSettings.url,document.getElementById("save").addEventListener("click",(()=>function(){const o=document.getElementById("url").value;e(o)?(n.updateGlobalSettings("url",o),t.document.getElementById("url").value=o,n.updateGlobalSettings("urlVersion",n.globalSettings.urlVersion+1),l("New iCal URL was saved, loading new information","notice")):(l("Please enter a valid iCal URL"),document.getElementById("url").value=n.globalSettings.url)}())),document.getElementById("refresh").addEventListener("click",(()=>{e(document.getElementById("url").value)?(n.updateGlobalSettings("urlVersion",n.globalSettings.urlVersion+1),l("Forced Refresh starting","notice")):l("Current iCal URL is not valid, please set a new one before doing a Forced Refresh")}))}})();